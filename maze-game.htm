<html>
	<head></head>
	<body>
		<canvas id="cvs" width="500" height="500"></canvas>
		<script src="constants.js"></script>
		<script src="util.js"></script>
		<script src="Node+.js"></script>
		<script src="components.js"></script>
		<script>
		var S = 50; // scale of game grid
		var cvs =  byID("cvs");
		var ctx = cvs.getContext("2d");

		var char = {
			x:4,
			y:0,

		}
		var monsters = [];// a monster will have X & Y values too.
		var walls = [];// a monster will have X & Y values too.
		var swords = [];// a monster will have X & Y values too.

		update();
		draw();
		addMonster(getRandomInt(0,10), getRandomInt(0,10) );
		setInterval(function(){
			//
			update();
			draw();
		},100);
		function update(){
			if( (Math.random()*1000*20) < 1 ){
				addMonster(getRandomInt(0,10), getRandomInt(0,10) );
			}
		}
		function addMonster(x,y){
			monsters.push( {x,y} );
		}
		function draw(){

			ctx.fillStyle = "#000000";
			ctx.fillRect(0,0,500,500);
			ctx.fillStyle = "#ff9911";
			ctx.fillRect(char.x*S,char.y*S,50,50);
			
			for(var i=0;i<10; i+=1){
			for(var j=0;j<10; j+=1){
				ctx.strokeStyle = "#333333";
				ctx.strokeRect(i*S,j*S,50,50);
			}}
			monsters.forEach(function(OBJECT){
				ctx.fillStyle = "#008822";
				//console.log(this)
				ctx.fillRect(OBJECT.x*S,OBJECT.y*S,50,50);
			});
			walls.forEach(function(OBJECT){
				ctx.fillStyle = "#44ddee";
				ctx.fillRect(OBJECT.x*S,OBJECT.y*S,50,50);
			});
			swords.forEach(function(OBJECT){
				ctx.fillStyle = "#880011";
				ctx.fillRect(OBJECT.x*S,OBJECT.y*S,50,50);
			});
		}
		function getRandomInt(min, max){
		  min = Math.ceil(min);
		  max = Math.floor(max);
		  return Math.floor(Math.random() * (max - min)) + min;
		}
		</script>
	</body>
</html>